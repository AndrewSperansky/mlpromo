üß™ –ß—Ç–æ —Ç–∞–∫–æ–µ smoke tests (—á—ë—Ç–∫–æ –∏ –ø–æ –¥–µ–ª—É)

Smoke tests ‚Äî —ç—Ç–æ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –æ–¥–∏–Ω –≤–æ–ø—Ä–æ—Å:

¬´–°–∏—Å—Ç–µ–º–∞ –≤–æ–æ–±—â–µ –∂–∏–≤–∞ –∏ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è?¬ª

–û–Ω–∏ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç –∫–∞—á–µ—Å—Ç–≤–æ,
–Ω–µ —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç –º–µ—Ç—Ä–∏–∫–∏,
–Ω–µ –ª–æ–≤—è—Ç edge cases.

–û–Ω–∏ –ª–æ–≤—è—Ç:
–ø–æ–ª–æ–º–∫–∏ –ø–∞–π–ø–ª–∞–π–Ω–∞
–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ñ–∞–π–ª–æ–≤
–Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –º–æ–¥—É–ª–µ–π

üîß –ü–æ—á–µ–º—É smoke tests –Ω—É–∂–Ω—ã –î–û unit tests

–ü–æ—Ç–æ–º—É —á—Ç–æ:  
ML-–ø–∞–π–ø–ª–∞–π–Ω —Å–ª–æ–∂–Ω—ã–π  
—Ç–æ—á–Ω—ã–µ unit-—Ç–µ—Å—Ç—ã –¥–æ—Ä–æ–≥–∏  
smoke tests –ª–æ–≤—è—Ç 80% —Ñ–∞—Ç–∞–ª—å–Ω—ã—Ö –æ—à–∏–±–æ–∫  
–≠—Ç–æ –ø–µ—Ä–≤–∞—è –ª–∏–Ω–∏—è –æ–±–æ—Ä–æ–Ω—ã.  

üì¶ –ß—Ç–æ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞–∂–¥—ã–π —Ç–µ—Å—Ç  

1Ô∏è‚É£ test_train_pipeline_smoke  

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:  
train_pipeline –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
–º–æ–¥–µ–ª—å —Ä–µ–∞–ª—å–Ω–æ –æ–±—É—á–∞–µ—Ç—Å—è
–∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è
–ï—Å–ª–∏ –æ–Ω –ø–∞–¥–∞–µ—Ç ‚Äî –ø—Ä–æ–¥–∞–∫—à–µ–Ω –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω.

2Ô∏è‚É£ test_shap_summary_smoke

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:  
SHAP —Ä–µ–∞–ª—å–Ω–æ –ø–æ—Å—á–∏—Ç–∞–ª—Å—è  
—Ñ–∞–π–ª –Ω–µ –ø—É—Å—Ç–æ–π  
–∑–Ω–∞—á–µ–Ω–∏—è –∞–¥–µ–∫–≤–∞—Ç–Ω—ã–µ  

–≠—Ç–æ –∑–∞—â–∏—Ç–∞ –æ—Ç:  
¬´SHAP –∑–∞–±—ã–ª–∏ –≤—ã–∑–≤–∞—Ç—å¬ª  
¬´—Ñ–∏—á–∏ —Å–ª–æ–º–∞–ª–∏—Å—å¬ª  

3Ô∏è‚É£ test_drift_pipeline_smoke

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:  
data drift —Å—á–∏—Ç–∞–µ—Ç—Å—è  
shap drift —Å—á–∏—Ç–∞–µ—Ç—Å—è  
combined drift —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è  
alert engine –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ  
–≠—Ç–æ –∑–∞—â–∏—Ç–∞ –±–∏–∑–Ω–µ—Å–∞, –Ω–µ ML.  

üö® –ü–æ—á–µ–º—É smoke tests –∫—Ä–∏—Ç–∏—á–Ω—ã –ø–µ—Ä–µ–¥ versioned models

–ü–æ—Ç–æ–º—É —á—Ç–æ versioned models:  
—É–º–Ω–æ–∂–∞—é—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤  
—É—Å–ª–æ–∂–Ω—è—é—Ç –ª–æ–≥–∏–∫—É  
–ø–æ–≤—ã—à–∞—é—Ç —Ä–∏—Å–∫ –æ—à–∏–±–æ–∫  

Smoke tests:  
—Ñ–∏–∫—Å–∏—Ä—É—é—Ç –±–∞–∑–æ–≤—É—é —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å  
–ø–æ–∑–≤–æ–ª—è—é—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å—Å—è  



üß™ –ì–î–ï –ò –ö–ê–ö –î–ï–õ–ê–¢–¨ SMOKE TESTS (–ö–õ–Æ–ß–ï–í–û)

Smoke tests ‚Äî —ç—Ç–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ ‚Äú–º–æ–¥–µ–ª—å –≤–æ–æ–±—â–µ –∂–∏–≤–∞?‚Äù, –Ω–µ –∫–∞—á–µ—Å—Ç–≤–∞.

1Ô∏è‚É£ Train smoke test

üìç app/ml/train/

–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å:  
train_pipeline –æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫  
model.cbm —Å–æ–∑–¥–∞—ë—Ç—Å—è  
shap_summary.json —Å–æ–∑–¥–∞—ë—Ç—Å—è  
model.meta.json –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è  

–ú–∏–Ω–∏–º—É–º:  
run train ‚Üí —Ñ–∞–π–ª—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç  

2Ô∏è‚É£ Inference smoke test  

üìç app/ml/inference/ –∏–ª–∏ API —Å–ª–æ–π

–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å:  
–º–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è  
–æ–¥–∏–Ω —Ç–µ—Å—Ç–æ–≤—ã–π payload –ø—Ä–æ—Ö–æ–¥–∏—Ç  
–æ—Ç–≤–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è  
–ë–µ–∑ –º–µ—Ç—Ä–∏–∫, —Ç–æ–ª—å–∫–æ —Ñ–∞–∫—Ç —Ä–∞–±–æ—Ç—ã.  

3Ô∏è‚É£ SHAP smoke test  

üìç app/ml/train/

–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å:
shap_summary.json –Ω–µ –ø—É—Å—Ç–æ–π
–∑–Ω–∞—á–µ–Ω–∏—è > 0
—Å–ø–∏—Å–æ–∫ —Ñ–∏—á —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å feature schema
–≠—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–æ–º.

4Ô∏è‚É£ Drift pipeline smoke test

üìç app/ml/monitoring/

–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å:  
—Ñ—É–Ω–∫—Ü–∏–∏ drift –Ω–µ –ø–∞–¥–∞—é—Ç  
–æ—Ç—á—ë—Ç —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è  
alert engine –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç action  

üß† –ü–æ—á–µ–º—É smoke tests –î–û versioned models

–ü–æ—Ç–æ–º—É —á—Ç–æ:  
–≤–µ—Ä—Å–∏–∏ —É—Å–ª–æ–∂–Ω—è—é—Ç —Å–∏—Å—Ç–µ–º—É  
smoke tests —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä—É—é—Ç —Å–∏—Å—Ç–µ–º—É  
–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫:  
—Ä–∞–±–æ—Ç–∞–µ—Ç ‚Üí —Å—Ç–∞–±–∏–ª—å–Ω–æ ‚Üí –ø–æ–Ω—è—Ç–Ω–æ ‚Üí –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä—É–µ–º  



## –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
`pytest tests/smoke`

## üîç –ó–∞–ø—É—Å–∫ –æ–¥–Ω–æ–≥–æ smoke-—Ç–µ—Å—Ç–∞

–ù–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–ª—å–∫–æ –æ–±—É—á–µ–Ω–∏–µ:  
`pytest tests/smoke/test_train_pipeline.py`

–¢–æ–ª—å–∫–æ SHAP:  
`pytest tests/smoke/test_shap_artifacts.py`

–¢–æ–ª—å–∫–æ drift:  
`pytest tests/smoke/test_drift_pipeline.py`





model.cbm —Å–æ–∑–¥–∞—ë—Ç—Å—è 
shap_summary.json —Å–æ–∑–¥–∞—ë—Ç—Å—è  
model.meta.json –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è  